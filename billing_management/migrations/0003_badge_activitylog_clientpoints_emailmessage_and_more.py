# Generated by Django 5.2.9 on 2025-12-28 12:15

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('billing_management', '0002_aiprompt_ailog'),
    ]

    operations = [
        migrations.CreateModel(
            name='Badge',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='ãƒãƒƒã‚¸å')),
                ('description', models.TextField(verbose_name='èª¬æ˜')),
                ('category', models.CharField(choices=[('attendance', 'å‡ºå¸­'), ('signature', 'é›»å­ã‚µã‚¤ãƒ³'), ('activity', 'æ´»å‹•'), ('growth', 'æˆé•·'), ('special', 'ç‰¹åˆ¥')], max_length=20, verbose_name='ã‚«ãƒ†ã‚´ãƒª')),
                ('icon', models.CharField(default='ğŸ†', max_length=50, verbose_name='ã‚¢ã‚¤ã‚³ãƒ³')),
                ('condition_type', models.CharField(max_length=50, verbose_name='æ¡ä»¶ã‚¿ã‚¤ãƒ—')),
                ('condition_value', models.IntegerField(verbose_name='æ¡ä»¶å€¤')),
                ('display_order', models.IntegerField(default=0, verbose_name='è¡¨ç¤ºé †')),
            ],
            options={
                'verbose_name': 'ãƒãƒƒã‚¸',
                'verbose_name_plural': 'ãƒãƒƒã‚¸',
                'db_table': 'badges',
                'ordering': ['display_order', 'id'],
            },
        ),
        migrations.CreateModel(
            name='ActivityLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(verbose_name='æ—¥ä»˜')),
                ('activity_type', models.CharField(max_length=50, verbose_name='æ´»å‹•ç¨®åˆ¥')),
                ('description', models.TextField(verbose_name='æ´»å‹•å†…å®¹')),
                ('staff_comment', models.TextField(blank=True, verbose_name='è·å“¡ã‚³ãƒ¡ãƒ³ãƒˆ')),
                ('photo', models.ImageField(blank=True, null=True, upload_to='activity_photos/', verbose_name='æ´»å‹•å†™çœŸ')),
                ('is_published', models.BooleanField(default=True, verbose_name='ä¿è­·è€…ã«å…¬é–‹')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='ä½œæˆæ—¥æ™‚')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ—¥æ™‚')),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='activity_logs', to='billing_management.client', verbose_name='åˆ©ç”¨è€…')),
            ],
            options={
                'verbose_name': 'æ´»å‹•è¨˜éŒ²',
                'verbose_name_plural': 'æ´»å‹•è¨˜éŒ²',
                'db_table': 'activity_logs',
                'ordering': ['-date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ClientPoints',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_points', models.IntegerField(default=0, verbose_name='åˆè¨ˆãƒã‚¤ãƒ³ãƒˆ')),
                ('attendance_points', models.IntegerField(default=0, verbose_name='å‡ºå¸­ãƒã‚¤ãƒ³ãƒˆ')),
                ('activity_points', models.IntegerField(default=0, verbose_name='æ´»å‹•ãƒã‚¤ãƒ³ãƒˆ')),
                ('growth_points', models.IntegerField(default=0, verbose_name='æˆé•·ãƒã‚¤ãƒ³ãƒˆ')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ—¥æ™‚')),
                ('client', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='points', to='billing_management.client', verbose_name='åˆ©ç”¨è€…')),
            ],
            options={
                'verbose_name': 'ãƒã‚¤ãƒ³ãƒˆ',
                'verbose_name_plural': 'ãƒã‚¤ãƒ³ãƒˆ',
                'db_table': 'client_points',
            },
        ),
        migrations.CreateModel(
            name='EmailMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('subject', models.CharField(max_length=200, verbose_name='ä»¶å')),
                ('body', models.TextField(verbose_name='æœ¬æ–‡')),
                ('message_type', models.CharField(choices=[('individual', 'å€‹åˆ¥'), ('bulk', 'ä¸€æ–‰é…ä¿¡')], default='individual', max_length=20, verbose_name='ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—')),
                ('status', models.CharField(choices=[('draft', 'ä¸‹æ›¸ã'), ('sent', 'é€ä¿¡æ¸ˆã¿'), ('failed', 'é€ä¿¡å¤±æ•—')], default='draft', max_length=20, verbose_name='ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='ä½œæˆæ—¥æ™‚')),
                ('sent_at', models.DateTimeField(blank=True, null=True, verbose_name='é€ä¿¡æ—¥æ™‚')),
                ('attachment', models.FileField(blank=True, null=True, upload_to='email_attachments/', verbose_name='æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«')),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sent_emails', to=settings.AUTH_USER_MODEL, verbose_name='é€ä¿¡è€…')),
            ],
            options={
                'verbose_name': 'ãƒ¡ãƒ¼ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸',
                'verbose_name_plural': 'ãƒ¡ãƒ¼ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸',
                'db_table': 'email_messages',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='GuardianUser',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('phone_number', models.CharField(blank=True, max_length=20, verbose_name='é›»è©±ç•ªå·')),
                ('relationship', models.CharField(default='ä¿è­·è€…', max_length=50, verbose_name='ç¶šæŸ„')),
                ('email_notifications', models.BooleanField(default=True, verbose_name='ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚’å—ã‘å–ã‚‹')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='ç™»éŒ²æ—¥æ™‚')),
                ('last_login_at', models.DateTimeField(blank=True, null=True, verbose_name='æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³æ—¥æ™‚')),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='guardians', to='billing_management.client', verbose_name='åˆ©ç”¨è€…')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='guardian_profile', to=settings.AUTH_USER_MODEL, verbose_name='ãƒ¦ãƒ¼ã‚¶ãƒ¼')),
            ],
            options={
                'verbose_name': 'ä¿è­·è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼',
                'verbose_name_plural': 'ä¿è­·è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼',
                'db_table': 'guardian_users',
            },
        ),
        migrations.CreateModel(
            name='ClientBadge',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('earned_at', models.DateTimeField(auto_now_add=True, verbose_name='ç²å¾—æ—¥æ™‚')),
                ('notification_sent', models.BooleanField(default=False, verbose_name='é€šçŸ¥é€ä¿¡æ¸ˆã¿')),
                ('badge', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='earned_by', to='billing_management.badge', verbose_name='ãƒãƒƒã‚¸')),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='earned_badges', to='billing_management.client', verbose_name='åˆ©ç”¨è€…')),
            ],
            options={
                'verbose_name': 'ç²å¾—ãƒãƒƒã‚¸',
                'verbose_name_plural': 'ç²å¾—ãƒãƒƒã‚¸',
                'db_table': 'client_badges',
                'ordering': ['-earned_at'],
                'unique_together': {('client', 'badge')},
            },
        ),
        migrations.CreateModel(
            name='EmailRecipient',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('guardian_email', models.EmailField(max_length=254, verbose_name='ä¿è­·è€…ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹')),
                ('read_status', models.CharField(choices=[('unread', 'æœªèª­'), ('read', 'æ—¢èª­')], default='unread', max_length=20, verbose_name='æ—¢èª­ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹')),
                ('read_at', models.DateTimeField(blank=True, null=True, verbose_name='æ—¢èª­æ—¥æ™‚')),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='received_emails', to='billing_management.client', verbose_name='å—ä¿¡è€…ï¼ˆåˆ©ç”¨è€…ï¼‰')),
                ('message', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recipients', to='billing_management.emailmessage', verbose_name='ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')),
            ],
            options={
                'verbose_name': 'ãƒ¡ãƒ¼ãƒ«å—ä¿¡è€…',
                'verbose_name_plural': 'ãƒ¡ãƒ¼ãƒ«å—ä¿¡è€…',
                'db_table': 'email_recipients',
                'unique_together': {('message', 'client')},
            },
        ),
    ]
